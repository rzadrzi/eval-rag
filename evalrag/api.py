# evalrag/api.py
# This api tool has 2 main patrs
#   1. Get user query and response the answer that generated by LLMs
#   2. Return Evaluation of the answer that created by LLMs -> this part is most important part.
# After this another web application that is wrotten in Rust(Actix framework) connect to this api
import sys
import asyncio
from typing import Union
# from core.rag import RAG
from .core import RAG

from fastapi import FastAPI, HTTPException

app = FastAPI(title="EvalRAG")


@app.get("/api/query")
async def index(q: str):
    print(sys.path)
    try:
        return {
            "query": q, 
            "response": len(q)
            }
    except Exception as e:
        return HTTPException(status_code=500, detail=str(e))

